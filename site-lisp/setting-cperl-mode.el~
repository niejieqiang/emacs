(defalias 'perl-mode 'cperl-mode)
(setq cperl-invalid-face nil)
(setq cperl-highlight-variables-indiscriminately t)

;; ----------------------------------------------
;; 
;;  ______________________________________
;; /                                      \
;; |        Perl Completion               |
;; \                                      /
;;  --------------------------------------
;;   \
;;    \
;;        ___  
;;      {~._.~}
;;       ( Y )
;;      ()~*~()   
;;      (_)-(_)   
;; 
;; -----------------------------------------------

(add-to-list 'load-path "~/emacs/site-lisp/auto-complete")

(add-hook  'cperl-mode-hook
           (lambda ()
             (when (require 'auto-complete nil t ) ; no error whatever auto-complete.el is not installed.
	       	   (require 'perl-completion nil t)
		   (require 'smart-tabs-mode nil t)
               (auto-complete-mode )
	       (perl-completion-mode )
	       (hs-minor-mode )
	    
               (make-variable-buffer-local 'ac-sources)
               (setq ac-sources
                     '(ac-source-perl-completion
		       ac-source-yasnippet
		       ac-source-abbrev
		       ac-source-words-in-buffer
		       ac-source-filename
		       )))))

;;////////////////////////////////////////////////////
;;
;;( Fold key definition )
;;  ----------------------------------------
;;   o
;;    o   \_\_    _/_/
;;     o      \__/
;;            (oo)\_______
;;            (__)\       )\/\
;;                ||----w |
;;                ||     ||
;;
;; \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

(define-key global-map "\M-'" 'hs-show-all) ;;M-' to show all fold
(define-key global-map "\M-[" 'hs-hide-block) ;;hide sub
(define-key global-map "\M-]" 'hs-show-block) ;;show sub

(add-hook 'cperl-mode-hook 'smart-tabs-mode-enable)
(smart-tabs-advice cperl-indent-line cperl-indent-level);;enabe smart-tab in cperl mode

(provide 'setting-cperl-mode)